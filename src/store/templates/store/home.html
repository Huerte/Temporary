{% extends 'store/index.html' %}
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">

{% block content %}

<!-- Hero Section (Modern Layout) -->
<section class="hero-section py-5" style="background-color: #f9fafb; display: block;" id="content">
    <div class="container">
        <div class="row align-items-center">
            <!-- Left Text Content -->
            <div class="col-md-6 mb-4 mb-md-0">
                <h1 class="fw-bold display-5 mb-3">Discover Quality<br>Products for Every Need</h1>
                <p class="text-muted fs-5 mb-4">
                    Shop our curated collection of premium products with fast shipping and excellent customer service.
                </p>
                <div class="d-flex gap-3">
                    {% if user.is_authenticated %}
                        <a href="{% url 'products' %}" class="btn btn-dark btn-lg">Shop Now</a>
                        {% else %}
                        <a href="#" class="btn btn-dark btn-lg" data-bs-toggle="modal" data-bs-target="#loginModal">Shop Now</a>
                    {% endif %}
                    {% if user.is_authenticated %}
                        <a href="#categories" class="btn btn-outline-dark btn-lg">Browse Categories</a>
                    {% else %}
                        <a href="#" class="btn btn-outline-dark btn-lg" data-bs-toggle="modal" data-bs-target="#loginModal">Browse Categories</a>
                    {% endif %}
                </div>
            </div>

            <!-- Right Image -->
            <div class="col-md-6 text-center">
                <img src="/media/images/another-hero.png" alt="Hero Image" class="img-fluid rounded shadow" style="max-height: 400px; object-fit: cover;">
            </div>
        </div>
    </div>
</section>

{% if products %}
    <style>
        #loading { display: none; }
        #featured-products { display: block !important; }
    </style>

    <!-- Featured Products Section -->
    <section class="featured-products py-5" id="featured-products">
        <div class="container">
            <div class="d-flex justify-content-between align-items-center mb-4">
                <div>
                    <h2 class="fw-bold mb-1">Featured Products</h2>
                    <p class="text-muted mb-0">Discover our handpicked selection of premium products.</p>
                </div>
                {% if user.is_authenticated %}
                    <a href="{% url 'products' %}" class="btn btn-outline-dark btn-sm">
                        View All Products <i class="fas fa-arrow-right ms-1"></i>
                    </a>
                {% else %}
                    <a href="#" class="btn btn-outline-dark btn-sm" data-bs-toggle="modal" data-bs-target="#loginModal">
                        View All Products <i class="fas fa-arrow-right ms-1"></i>
                    </a>
                {% endif %}
            </div>
    
            <div class="row" id="product-catalog">
                {% for product in products %}
                <div class="col-md-6 col-lg-4 mb-4">
                    <div class="card h-100 border-0 shadow-sm transition" style="border-radius: 1rem; overflow: hidden;">
                        <a href="{% url 'product-details' product.id %}" class="text-decoration-none text-dark">
                            <div class="position-relative bg-light d-flex align-items-center justify-content-center" style="height: 240px;">
                                <img src="{{ product.image }}" class="img-fluid p-3" style="max-height: 100%; object-fit: contain;" alt="{{ product.name }}">
                                <span class="badge bg-dark position-absolute top-0 start-0 m-2 text-uppercase small">{{ product.category.name }}</span>
                                {% if product.is_on_sale %}
                                    <span class="badge bg-danger position-absolute top-0 end-0 m-2">-{{ product.discount_percentage }}%</span>
                                {% endif %}
                            </div>
                            <div class="card-body d-flex flex-column">
                                <h6 class="fw-semibold text-truncate mb-1" title="{{ product.name }}">{{ product.name|truncatechars:30 }}</h6>
                                <p class="mb-3">
                                    {% if product.is_on_sale %}
                                        <span class="text-muted text-decoration-line-through me-2">${{ product.price }}</span>
                                        <span class="fw-bold text-danger fs-5">${{ product.discounted_price }}</span>
                                    {% else %}
                                        <span class="fw-bold text-dark fs-5">${{ product.price }}</span>
                                    {% endif %}
                                </p>
                            </div>
                        </a>
                        <div class="px-3 pb-3">
                            {% if user.is_authenticated %}
                                {% if product.id in products_in_cart %}
                                    <button class="btn btn-outline-secondary w-100" disabled>
                                        <i class="fas fa-check-circle me-2"></i>In Cart
                                    </button>
                                {% else %}
                                <form method="post"
                                    action="{% url 'add-to-cart' product.id %}"
                                    class="add-to-cart-form"
                                    data-product-id="{{ product.id }}">
                                    {% csrf_token %}
                                    <input type="hidden" name="quantity" value="1">
                                    <button type="submit" class="btn btn-dark w-100">
                                        <i class="fas fa-shopping-cart me-2"></i>Add to Cart
                                    </button>
                                </form>
                                {% endif %}
                            {% else %}
                                <a href="#" class="btn btn-dark w-100" data-bs-toggle="modal" data-bs-target="#loginModal">
                                    <i class="fas fa-shopping-cart me-2"></i>Add to Cart
                                </a>
                            {% endif %}
                        </div>
                    </div>
                </div>
                {% endfor %}
            </div>
    
            <!-- CTA Section -->
            <div class="text-center mt-5">
                <hr class="my-4">
                <h5 class="fw-semibold mb-3">Looking for more?</h5>
                {% if user.is_authenticated %}
                    <a href="{% url 'products' %}" class="btn btn-outline-dark">
                        Explore More Products <i class="fas fa-arrow-right ms-2"></i>
                    </a>
                {% else %}
                    <a href="#" class="btn btn-outline-dark" data-bs-toggle="modal" data-bs-target="#loginModal">
                        Explore More Products <i class="fas fa-arrow-right ms-2"></i>
                    </a>
                {% endif %}
            </div>
        </div>
    </section>
    

    <script>
        document.addEventListener("DOMContentLoaded", () => {
          document.querySelectorAll(".add-to-cart-form").forEach(form => {
            form.addEventListener("submit", async e => {
              e.preventDefault();
              const productId = form.dataset.productId;
              const formData = new FormData(form);
        
              try {
                const res = await fetch(form.action, {
                  method: "POST",
                  headers: {
                    "X-Requested-With": "XMLHttpRequest",
                    "X-CSRFToken": formData.get("csrfmiddlewaretoken"),
                  },
                  body: formData,
                });
        
                if (res.ok) {
                  const data = await res.json();
                  if (data.success) {
                    // Update cart badge
                    const badge = document.getElementById("cart-badge");
                    badge.textContent = data.cart_total;
                    badge.style.display = data.cart_total > 0 ? "inline-block" : "none";
        
                    // Replace button
                    form.outerHTML = `
                      <button class="btn btn-outline-dark w-100 disabled">
                        <i class="fas fa-shopping-cart me-2"></i>Already in Cart
                      </button>
                    `;
                  }
                } else {
                  console.error("Failed to add to cart");
                }
              } catch (err) {
                console.error("Error:", err);
              }
            });
          });
        });
        </script>        
      

    {% if products|length < 6 %}
    <div class="col-md-4 mb-4">
        <div class="card h-100 text-center border-0 bg-light d-flex flex-column justify-content-center align-items-center" style="min-height: 400px;">
            <div class="p-4">
                <h5 class="fw-bold text-muted mb-3">Interested for more?</h5>
                <a href="{% url 'products' %}" class="btn btn-outline-dark">View More Products</a>
            </div>
        </div>
    </div>
{% endif %}

{% else %}
    <!-- Loading Screen -->
    <div id="loading" style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(255, 255, 255, 0.9); display: flex; justify-content: center; align-items: center; z-index: 9999;">
        <div style="text-align: center;">
            <div class="spinner-border text-primary" role="status" style="width: 3rem; height: 3rem;">
                <span class="visually-hidden">Loading...</span>
            </div>
            <p class="mt-3" style="font-size: 1.25rem; color: #6c757d; font-weight: 500;">Please wait...</p>
        </div>
    </div>
{% endif %}

<script>
    window.onload = function() {
        // Hide the loading screen and show the featured products after the page has loaded
        document.getElementById('loading').style.display = 'none';
        document.getElementById('featured-products').style.display = 'block';
    };

    setTimeout(function() {
        if (document.getElementById('loading').style.display !== 'none') {
            document.getElementById('loading').style.display = 'none';
            // Show a message or alternative content if loading takes too long
            const timeoutMessage = document.createElement('div');
            timeoutMessage.innerHTML = `
                <div style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(255, 255, 255, 0.9); display: flex; justify-content: center; align-items: center; z-index: 9999;">
                    <div style="text-align: center;">
                        <p class="mt-3" style="font-size: 1.25rem; color: #6c757d; font-weight: 500;">
                            The page is taking too long to load. Please try again later.
                        </p>
                    </div>
                </div>
            `;
            document.body.appendChild(timeoutMessage);
        }
    }, 10000);  // 10 seconds timeout
</script>


<section class="promo-banner py-5 text-center text-white" style="background: linear-gradient(90deg, #6a11cb 0%, #2575fc 100%);">
    <div class="container">
        <h2 class="fw-bold display-5 mb-3">Special Offer: 20% Off on All Items!</h2>
        <p class="fs-5 mb-4">Use code <strong>SALE20</strong> at checkout. Offer valid until <span class="fw-semibold">April 30, 2025</span>.</p>
        {% if user.is_authenticated %}
            <a href="{% url 'products' %}" class="btn btn-light btn-sm px-5 py-3 shadow-sm">
            <i class="fas fa-tags me-2"></i>Shop Now
            </a>
        {% else %}
            <a href="{% url 'login-page' %}" class="btn btn-light btn-sm px-5 py-3 shadow-sm" data-bs-toggle="modal" data-bs-target="#loginModal">
            <i class="fas fa-tags me-2"></i>Shop Now
            </a>
        {% endif %}
    </div>
</section>

<!-- Categories Section -->
<section class="categories-section py-5" id="categories">
    <div class="container">
        <div class="text-center mb-4">
            <h2 class="fw-bold">Explore Categories</h2>
            <p class="text-muted">Find products by category to suit your needs.</p>
        </div>
        <div class="row">
            <!-- Electronics -->
            <div class="col-md-2 mb-4">
                <div class="card h-100 text-center hover-up">
                    <div class="bg-light rounded-top" style="height: 200px; display: flex; align-items: center; justify-content: center;">
                        <i class="fas fa-laptop fa-3x text-muted"></i>
                    </div>
                    <div class="card-body d-flex flex-column">
                        <h6 class="fw-bold">Electronics</h6>
                        <a href="#" class="btn btn-outline-dark mt-auto w-100">Explore</a>
                    </div>
                </div>
            </div>
            <!-- Fashion -->
            <div class="col-md-2 mb-4">
                <div class="card h-100 text-center hover-up">
                    <div class="bg-light rounded-top" style="height: 200px; display: flex; align-items: center; justify-content: center;">
                        <i class="fas fa-tshirt fa-3x text-muted"></i>
                    </div>
                    <div class="card-body d-flex flex-column">
                        <h6 class="fw-bold">Fashion</h6>
                        <a href="#" class="btn btn-outline-dark mt-auto w-100">Explore</a>
                    </div>
                </div>
            </div>
            <!-- Furniture -->
            <div class="col-md-2 mb-4">
                <div class="card h-100 text-center hover-up">
                    <div class="bg-light rounded-top" style="height: 200px; display: flex; align-items: center; justify-content: center;">
                        <i class="fas fa-chair fa-3x text-muted"></i>
                    </div>
                    <div class="card-body d-flex flex-column">
                        <h6 class="fw-bold">Furniture</h6>
                        <a href="#" class="btn btn-outline-dark mt-auto w-100">Explore</a>
                    </div>
                </div>
            </div>
            <!-- Mobile Phones -->
            <div class="col-md-2 mb-4">
                <div class="card h-100 text-center hover-up">
                    <div class="bg-light rounded-top" style="height: 200px; display: flex; align-items: center; justify-content: center;">
                        <i class="fas fa-mobile-alt fa-3x text-muted"></i>
                    </div>
                    <div class="card-body d-flex flex-column">
                        <h6 class="fw-bold">Mobile Phones</h6>
                        <a href="#" class="btn btn-outline-dark mt-auto w-100">Explore</a>
                    </div>
                </div>
            </div>
            <!-- Home Appliances -->
            <div class="col-md-2 mb-4">
                <div class="card h-100 text-center hover-up">
                    <div class="bg-light rounded-top" style="height: 200px; display: flex; align-items: center; justify-content: center;">
                        <i class="fas fa-blender fa-3x text-muted"></i>
                    </div>
                    <div class="card-body d-flex flex-column">
                        <h6 class="fw-bold">Home Appliances</h6>
                        <a href="#" class="btn btn-outline-dark mt-auto w-100">Explore</a>
                    </div>
                </div>
            </div>
           <!-- Sports -->
            <div class="col-md-2 mb-4">
                <div class="card h-100 text-center hover-up">
                    <div class="bg-light rounded-top" style="height: 200px; display: flex; align-items: center; justify-content: center;">
                        <i class="fas fa-football-ball fa-3x text-muted"></i>
                    </div>
                    <div class="card-body d-flex flex-column">
                        <h6 class="fw-bold">Sports</h6>
                        <a href="#" class="btn btn-outline-dark mt-auto w-100">Explore</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<style>
    .hover-up {
        transition: transform 0.3s ease-in-out, box-shadow 0.3s ease-in-out;
    }
    .hover-up:hover {
        transform: translateY(-10px);
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
    }
</style>

<!-- Testimonials Section -->
<section class="testimonials-section py-5 bg-light">
    <div class="container">
        <div class="text-center mb-4">
            <h2 class="fw-bold">What Our Customers Say</h2>
            <p class="text-muted">See why our customers love shopping with us.</p>
        </div>
        <div id="testimonialCarousel" class="carousel slide carousel-fade" data-bs-ride="carousel">
            <div class="carousel-inner">
                <!-- Testimonial 1 -->
                <div class="carousel-item active">
                    <div class="card h-200 shadow-sm border-0">
                        <div class="card-body text-center">
                            <p class="text-muted fst-italic">"The quality is outstanding, and the delivery was super fast. Highly recommend!"</p>
                            <h6 class="fw-bold mt-3">John Doe</h6>
                            <p class="text-muted">Verified Buyer</p>
                        </div>
                    </div>
                </div>
                <!-- Testimonial 2 -->
                <div class="carousel-item">
                    <div class="card h-200 shadow-sm border-0">
                        <div class="card-body text-center">
                            <p class="text-muted fst-italic">"Exceptional customer service and top-notch products. Will definitely shop again!"</p>
                            <h6 class="fw-bold mt-3">Jane Smith</h6>
                            <p class="text-muted">Verified Buyer</p>
                        </div>
                    </div>
                </div>
                <!-- Testimonial 3 -->
                <div class="carousel-item">
                    <div class="card h-200 shadow-sm border-0"></div>
                        <div class="card-body text-center">
                            <p class="text-muted fst-italic">"The best online shopping experience I've ever had. Thank you for the amazing service!"</p>
                            <h6 class="fw-bold mt-3">Emily Johnson</h6>
                            <p class="text-muted">Verified Buyer</p>
                        </div>
                    </div>
                </div>
                <!-- Testimonial 4 -->
                <div class="carousel-item">
                    <div class="card h-200 shadow-sm border-0">
                        <div class="card-body text-center">
                            <p class="text-muted fst-italic">"Great prices and excellent quality. I'm beyond satisfied with my purchase!"</p>
                            <h6 class="fw-bold mt-3">Michael Brown</h6>
                            <p class="text-muted">Verified Buyer</p>
                        </div>
                    </div>
                </div>
                <!-- Testimonial 5 -->
                <div class="carousel-item">
                    <div class="card h-200 shadow-sm border-0"></div>
                        <div class="card-body text-center">
                            <p class="text-muted fst-italic">"Fast delivery and outstanding support. I highly recommend this store to everyone!"</p>
                            <h6 class="fw-bold mt-3">Sarah Wilson</h6>
                            <p class="text-muted">Verified Buyer</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<script>
    document.addEventListener('DOMContentLoaded', () => {
        const carousel = new bootstrap.Carousel(document.getElementById('testimonialCarousel'), {
            interval: 3000,
            ride: 'carousel',
            wrap: true
        });
    });
</script>

<!-- Newsletter Subscription Section -->
<section class="newsletter-section py-5 text-center text-white" style="background-color: #007bff;">
    <div class="container">
        <h2 class="fw-bold">Stay Updated</h2>
        <p class="mb-4">Subscribe to our newsletter for the latest updates and exclusive offers.</p>
        <form class="d-flex justify-content-center">
            <input type="email" class="form-control w-50 me-2" placeholder="Enter your email" required>
            <button type="submit" class="btn btn-light">Subscribe</button>
        </form>
    </div>
</section>

<!-- Blog Section -->
<section class="blog-section py-5" style="background-color: #f8f9fa;">
    <div class="container">
        <div class="text-center mb-5">
            <h2 class="fw-bold display-6">Latest from Our Blog</h2>
            <p class="text-muted fs-5">Stay informed with our latest news and articles.</p>
        </div>
        <div class="row g-4">
            <!-- Blog Post 1 -->
            <div class="col-md-4">
                <div class="card h-100 border-0 shadow-sm hover-shadow transition">
                    <img src="https://images.unsplash.com/photo-1517336714731-489689fd1ca8?auto=format&fit=crop&w=600&q=80" class="card-img-top rounded-top" alt="Top 10 Gadgets for 2023" style="height: 220px; object-fit: cover;">
                    <div class="card-body">
                        <h5 class="card-title fw-semibold">Top 10 Gadgets for 2023</h5>
                        <p class="card-text text-muted">Discover the must-have gadgets to enhance your lifestyle this year.</p>
                    </div>
                    <div class="card-footer bg-transparent border-0 pb-3 px-3">
                        <a href="#" class="btn btn-sm btn-outline-dark">Read More</a>
                    </div>
                </div>
            </div>

            <!-- Blog Post 2 -->
            <div class="col-md-4">
                <div class="card h-100 border-0 shadow-sm hover-shadow transition">
                    <img src="https://images.unsplash.com/photo-1600585154340-be6161a56a0c?auto=format&fit=crop&w=600&q=80" class="card-img-top rounded-top" alt="How to Choose the Perfect Furniture" style="height: 220px; object-fit: cover;">
                    <div class="card-body">
                        <h5 class="card-title fw-semibold">How to Choose the Perfect Furniture</h5>
                        <p class="card-text text-muted">Tips and tricks for selecting furniture that fits your style and needs.</p>
                    </div>
                    <div class="card-footer bg-transparent border-0 pb-3 px-3">
                        <a href="#" class="btn btn-sm btn-outline-dark">Read More</a>
                    </div>
                </div>
            </div>

            <!-- Blog Post 3 -->
            <div class="col-md-4">
                <div class="card h-100 border-0 shadow-sm hover-shadow transition">
                    <img src="https://cdn.mos.cms.futurecdn.net/jwrSBpoqnwfnJAX5yRmWNj-450-80.jpg.webp" class="card-img-top rounded-top" alt="Fashion Trends to Watch" style="height: 220px; object-fit: cover;">
                    <div class="card-body">
                        <h5 class="card-title fw-semibold">Fashion Trends to Watch</h5>
                        <p class="card-text text-muted">Stay ahead of the curve with the latest fashion trends for the season.</p>
                    </div>
                    <div class="card-footer bg-transparent border-0 pb-3 px-3">
                        <a href="#" class="btn btn-sm btn-outline-dark">Read More</a>
                    </div>
                </div>
            </div>

        </div>
    </div>
</section>

<!-- FAQ Section -->
<section class="faq-section py-5 bg-light">
    <div class="container">
        <div class="text-center mb-4">
            <h2 class="fw-bold">Frequently Asked Questions</h2>
            <p class="text-muted">Find answers to common questions about our store and services.</p>
        </div>
        <div class="accordion" id="faqAccordion">
            <div class="accordion-item">
                <h2 class="accordion-header" id="faqHeadingOne">
                    <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#faqCollapseOne" aria-expanded="true" aria-controls="faqCollapseOne">
                        What is your return policy?
                    </button>
                </h2>
                <div id="faqCollapseOne" class="accordion-collapse collapse show" aria-labelledby="faqHeadingOne" data-bs-parent="#faqAccordion">
                    <div class="accordion-body text-primary">
                        We offer a 30-day return policy for all items. Please ensure the product is in its original condition.
                    </div>
                </div>
            </div>
            <div class="accordion-item">
                <h2 class="accordion-header" id="faqHeadingTwo">
                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faqCollapseTwo" aria-expanded="false" aria-controls="faqCollapseTwo">
                        Do you offer international shipping?
                    </button>
                </h2>
                <div id="faqCollapseTwo" class="accordion-collapse collapse" aria-labelledby="faqHeadingTwo" data-bs-parent="#faqAccordion">
                    <div class="accordion-body text-primary">
                        Yes, we ship to over 50 countries worldwide. Shipping fees and delivery times vary by location.
                    </div>
                </div>
            </div>
            <div class="accordion-item">
                <h2 class="accordion-header" id="faqHeadingThree">
                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faqCollapseThree" aria-expanded="false" aria-controls="faqCollapseThree">
                        How can I track my order?
                    </button>
                </h2>
                <div id="faqCollapseThree" class="accordion-collapse collapse" aria-labelledby="faqHeadingThree" data-bs-parent="#faqAccordion">
                    <div class="accordion-body text-primary">
                        Once your order is shipped, you will receive a tracking number via email to monitor its progress.
                    </div>
                </div>
            </div>
            <div class="accordion-item">
                <h2 class="accordion-header" id="faqHeadingFour">
                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faqCollapseFour" aria-expanded="false" aria-controls="faqCollapseFour">
                        What payment methods do you accept?
                    </button>
                </h2>
                <div id="faqCollapseFour" class="accordion-collapse collapse" aria-labelledby="faqHeadingFour" data-bs-parent="#faqAccordion">
                    <div class="accordion-body text-primary">
                        We accept major credit cards, PayPal, and other secure payment options.
                    </div>
                </div>
            </div>
            <div class="accordion-item">
                <h2 class="accordion-header" id="faqHeadingFive">
                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faqCollapseFive" aria-expanded="false" aria-controls="faqCollapseFive">
                        Can I cancel my order?
                    </button>
                </h2>
                <div id="faqCollapseFive" class="accordion-collapse collapse" aria-labelledby="faqHeadingFive" data-bs-parent="#faqAccordion">
                    <div class="accordion-body text-primary">
                        Yes, you can cancel your order before it is shipped. Please contact our support team for assistance.
                    </div>
                </div>
            </div>
            <div class="accordion-item">
                <h2 class="accordion-header" id="faqHeadingSix">
                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faqCollapseSix" aria-expanded="false" aria-controls="faqCollapseSix">
                        Do you offer gift wrapping services?
                    </button>
                </h2>
                <div id="faqCollapseSix" class="accordion-collapse collapse" aria-labelledby="faqHeadingSix" data-bs-parent="#faqAccordion">
                    <div class="accordion-body text-primary">
                        Yes, we offer gift wrapping for an additional fee. You can select this option during checkout.
                    </div>
                </div>
            </div>
            <div class="accordion-item">
                <h2 class="accordion-header" id="faqHeadingSeven">
                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faqCollapseSeven" aria-expanded="false" aria-controls="faqCollapseSeven">
                        How do I contact customer support?
                    </button>
                </h2>
                <div id="faqCollapseSeven" class="accordion-collapse collapse" aria-labelledby="faqHeadingSeven" data-bs-parent="#faqAccordion">
                    <div class="accordion-body text-primary">
                        You can reach our customer support team via email, phone, or live chat on our website.
                    </div>
                </div>
            </div>
            <div class="accordion-item">
                <h2 class="accordion-header" id="faqHeadingEight">
                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faqCollapseEight" aria-expanded="false" aria-controls="faqCollapseEight">
                        Are your products covered by warranty?
                    </button>
                </h2>
                <div id="faqCollapseEight" class="accordion-collapse collapse" aria-labelledby="faqHeadingEight" data-bs-parent="#faqAccordion">
                    <div class="accordion-body text-primary">
                        Yes, most of our products come with a manufacturerâ€™s warranty. Please check the product details for more information.
                    </div>
                </div>
            </div>
            <div class="accordion-item">
                <h2 class="accordion-header" id="faqHeadingNine">
                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faqCollapseNine" aria-expanded="false" aria-controls="faqCollapseNine">
                        Do you have a loyalty program?
                    </button>
                </h2>
                <div id="faqCollapseNine" class="accordion-collapse collapse" aria-labelledby="faqHeadingNine" data-bs-parent="#faqAccordion">
                    <div class="accordion-body text-primary">
                        Yes, we offer a loyalty program where you can earn points for every purchase and redeem them for discounts.
                    </div>
                </div>
            </div>
            <div class="accordion-item">
                <h2 class="accordion-header" id="faqHeadingTen">
                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faqCollapseTen" aria-expanded="false" aria-controls="faqCollapseTen">
                        Can I change my shipping address after placing an order?
                    </button>
                </h2>
                <div id="faqCollapseTen" class="accordion-collapse collapse" aria-labelledby="faqHeadingTen" data-bs-parent="#faqAccordion">
                    <div class="accordion-body text-primary">
                        Yes, you can update your shipping address before the order is shipped. Contact our support team for help.
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

{% if not user.is_authenticated %}
<!-- Login Modal -->
<div class="modal fade" id="loginModal" tabindex="-1" aria-labelledby="loginModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-lg">
        <div class="modal-content shadow-lg border-0 rounded-4">
            <div class="modal-header border-0 pb-0 text-center">
                <h3 class="modal-title fw-bold w-100" id="loginModalLabel">Log in</h3>
                <button type="button" class="btn-close position-absolute end-0 me-3" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body pt-0">
                <div class="container py-4">
                    <div class="row align-items-center">
                        <!-- Image Section -->
                        <div class="col-md-6 text-center mb-4 mb-md-0">
                            <img src="https://mdbcdn.b-cdn.net/img/Photos/new-templates/bootstrap-login-form/draw2.svg"
                                class="img-fluid" alt="Login Illustration">
                        </div>
                        <!-- Form Section -->
                        <div class="col-md-6">
                            <form id="loginForm" action="{% url 'store_home' %}" method="POST">
                                {% csrf_token %}
                                <!-- Email Input -->
                                <div class="form-outline mb-4">
                                    <label class="form-label" for="form1Example13">Email Address</label>
                                    <input type="email" id="form1Example13" name="email" class="form-control form-control-lg" required />
                                </div>
                                <!-- Password Input -->
                                <div class="form-outline mb-4">
                                    <label class="form-label" for="form1Example23">Password</label>
                                    <input type="password" id="form1Example23" name="password" class="form-control form-control-lg" required />
                                </div>
                                <!-- Remember Me and Forgot Password -->
                                <div class="d-flex justify-content-between align-items-center mb-4">
                                    <div class="form-check">
                                        <input class="form-check-input" type="checkbox" id="form1Example3" />
                                        <label class="form-check-label" for="form1Example3">Remember me</label>
                                    </div>
                                    <a href="{% url 'forgot-password' %}">Forgot password?</a>
                                </div>
                                <!-- Submit Button -->
                                <button type="submit" class="btn text-white btn-lg w-100" style="background: linear-gradient(to right, #5f4dee, #3a3aff); border: none;">Sign In</button>
                                <!-- Divider -->
                                <div class="divider d-flex align-items-center justify-content-center my-4">
                                    <p class="text-center fw-bold mx-3 mb-0 text-muted">OR</p>
                                </div>
                                <!-- Social Login Buttons -->
                                <div class="d-grid gap-3">
                                    <a class="btn btn-outline-dark btn-lg w-100" href="#!" role="button">
                                        <i class="fab fa-facebook-f me-2"></i>Continue with Facebook
                                    </a>
                                    <a class="btn btn-outline-dark btn-lg w-100" href="#!" role="button">
                                        <i class="fab fa-google me-2"></i>Continue with Google
                                    </a>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endif %}

{% endblock %}
